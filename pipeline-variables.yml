# Azure DevOps Pipeline Variables Template
# Copy these variables to your Azure DevOps pipeline variable groups

variables:
  # Azure Connection
  azureServiceConnection: 'MSFT-NonProd-ServiceConnection'  # UPDATE: Name of your Azure service connection
  subscriptionId: 'f16506c7-8141-4ef7-8a2e-67f11b6f8acd'              # UPDATE: Your Azure subscription ID
  
  # Resource Group Settings
  resourceGroupName: 'rg-appgateway-nonprod'         # UPDATE: Your resource group name
  location: 'eastus'                                 # UPDATE: Your preferred Azure region
  
  # Template Settings
  templateFile: 'ARM_Deployments/AppGateway/ApplicationGateway.json'
  parametersFile: 'ARM_Deployments/AppGateway/parameters.json'
  
  # Deployment Settings
  deploymentName: 'AppGateway-$(Build.BuildId)'
  
  # Application Gateway Settings (override parameters.json values if needed)
  applicationGatewayName: 'myapp-gateway-nonprod'    # UPDATE: Your App Gateway name
  virtualNetworkName: 'vnet-nonprod'                 # UPDATE: Your VNet name
  subnetName: 'snet-appgateway'                       # UPDATE: Your subnet name
  publicIPName: 'pip-appgateway-nonprod'             # UPDATE: Your public IP name
  backendIPAddress: '10.10.2.10'                     # UPDATE: Your backend server IP

# Environment-specific variable groups
# Create these in Azure DevOps: Pipelines > Library > Variable groups

# Variable Group: "AppGateway-NonProd"
nonprod:
  resourceGroupName: 'rg-appgateway-nonprod'
  applicationGatewayName: 'agw-myapp-nonprod'
  virtualNetworkName: 'vnet-nonprod'
  backendIPAddress: '10.10.2.10'

# Variable Group: "AppGateway-Prod" 
prod:
  resourceGroupName: 'rg-appgateway-prod'
  applicationGatewayName: 'agw-myapp-prod'
  virtualNetworkName: 'vnet-prod'
  backendIPAddress: '10.20.2.10'
